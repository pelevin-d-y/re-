_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"/hX0":function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),c=a("q1tI"),r=a("5UjZ"),s=a("tRB4"),o=a("ri3m"),i=a("lsNj"),l=a("o0o1"),u=a.n(l),d=a("ODXe"),b=a("HaE+"),j=a("TSYQ"),_=a.n(j),O=a("/s5S"),f=a("5850"),p=a("JV1x"),h=a("LvDl"),v=a("c9m8"),m=a("KQm4"),x=a("VZZm"),w=a("p2i1"),y=a("vh2s"),g=a("Ff2n"),C=a("rePB"),N=a("VYKx"),k=a("5Q2Q"),S=a("YZ46"),H=a("rtMV"),P=a("gVHv"),T=a("20a2"),B=a("h7lv"),D=a("aZ4e"),R=a("J43F"),I=a("sNyq"),E=a("9IgY"),L=a("Qls5"),V=a("Q0IO");function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=a("Iquo"),Y=function(e){var t=e.className,a=e.data,r=e.fetchData,s=Object(o.b)().setState,i=Object(c.useMemo)((function(){return a}),[a]),l=Object(T.useRouter)(),u=Object(c.useCallback)((function(e){return e.Notes?P.a.updateMutableData(e.contact_id,[A(A({},e.Notes),{},{data:e.newNotes,meta:{type:"primary"}})],[A(A({},e.Notes),{},{review:2})]):P.a.updateMutableData(e.contact_id,[A(A({},{type:"Notes",data:"",review:1,meta:{type:"primary"}}),{},{data:e.newNotes})])}),[]),d=Object(c.useMemo)((function(){return[{Header:"Contact",accessor:"name",width:180,Cell:function(e){var t=e.row;return Object(n.jsxs)("div",{className:F.cellName,children:[Object(n.jsx)(k.a,{className:F.avatar,image:t.original.avatar,name:Object(v.a)(t.original),strength:t.original.relationshipStrength}),Object(n.jsx)(S.a,{className:F.name,data:t.original,updateDataCallback:r})]})},sortType:Object(B.a)()},{Header:"Last outreach",accessor:"last_client_text",disableSortBy:!0,width:200,Cell:function(e){e.value;var t=e.row;return Object(n.jsx)(E.a,{id:t.original.contact_id,children:function(e,t,a){return Object(n.jsx)(I.a,{isLoading:t,lastMessageData:e,ref:a})}})}},{Header:"Next steps",disableSortBy:!0,width:200,Cell:function(e){e.value;var t=e.row;return Object(n.jsx)(L.a,{data:t.original})}},{Header:"Notes",accessor:"Notes",disableSortBy:!0,width:200,Cell:function(e){var t=e.value,a=e.row,r=Object(c.useState)(null===t||void 0===t?void 0:t.data),s=r[0],o=r[1];return Object(n.jsx)(V.a,{maxRows:3,value:s,onChange:o,onSave:function(e){o(e),u(A(A({},a.original),{},{newNotes:e}))}})}},{accessor:"edit",disableSortBy:!0,Cell:function(e){e.value;var t=e.row;return Object(n.jsx)("div",{className:F.cellButton,children:Object(n.jsx)("button",{type:"button",className:F.rowButton,onClick:function(e){e.stopPropagation(),l.push("/contact?id=".concat(t.original.contact_id))},children:Object(n.jsx)(H.a,{className:F.pen,icon:"pen.svg"})})})}}]}),[l,u]),b=Object(N.useTable)({columns:d,data:i||[]},N.useSortBy,N.useFlexLayout,N.useRowSelect,N.useRowState,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(n.jsx)("div",{className:F.headerCheckbox,children:Object(n.jsx)(D.a,A({},t()))})},Cell:function(e){var t=e.row;return Object(n.jsxs)("div",{className:F.cellCheckbox,children:[Object(n.jsx)(D.a,A({},t.getToggleRowSelectedProps()))," "]})}}].concat(Object(m.a)(e))}))})),j=b.getTableProps,f=b.getTableBodyProps,p=b.headerGroups,h=b.rows,x=b.prepareRow,w=b.selectedFlatRows;return Object(c.useEffect)((function(){s(w.map((function(e){return e.original})))}),[w]),Object(n.jsxs)("div",{className:F.container,children:[Object(n.jsxs)("table",A(A({className:_()(t,F.table)},j()),{},{children:[Object(n.jsx)("thead",{className:F.thead,children:p.map((function(e){var t=e.getHeaderGroupProps(),a=t.key,r=Object(g.a)(t,["key"]);return Object(c.createElement)("tr",A(A({},r),{},{className:F.tableRow,key:a}),e.headers.map((function(e){var t=e.getHeaderProps().key;return Object(c.createElement)("th",A(A({className:_()(F.columnHeader,F[t])},e.getHeaderProps(e.getSortByToggleProps())),{},{key:t}),e.render("Header"),Object(n.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(n.jsx)(H.a,{className:F.sort,icon:"sort.svg"}):Object(n.jsx)(H.a,{className:_()(F.sort,F.sortAsc),icon:"sort.svg"}):""}))})))}))}),Object(n.jsx)("tbody",A(A({className:F.tbody},f()),{},{children:h.map((function(e){x(e);var t=e.getRowProps(),a=t.key,c=Object(g.a)(t,["key"]);return Object(n.jsx)(R.a,A({row:e,classes:{container:F.tableRow}},c),a)}))}))]})),0===h.length&&Object(n.jsx)("div",{className:F.emptyCardContainer,children:Object(n.jsx)(O.a,{className:_()(t,F.emptyCard),children:Object(n.jsx)("div",{className:F.cardLogo,children:Object(n.jsx)(H.a,{className:F.logo,icon:"contacts.svg"})})})})]})},K=a("WXFI"),M=a("6NKu"),J=function(e){var t=e.className,a=Object(c.useState)(!1),r=a[0],s=a[1],o=Object(c.useState)(void 0),i=o[0],l=o[1],j=Object(c.useState)(""),g=j[0],C=j[1],N=Object(c.useState)([]),k=N[0],S=N[1],H=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.b.getContactsMutable().then(function(){var e=Object(b.a)(u.a.mark((function e(a){var n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.entries(a).map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(p.a)(n,a)})),(c=n.find((function(e){return e.contact_id===t})))&&i?(r=i.findIndex((function(e){return e.contact_id===c.contact_id})),l((s=i,o=r,u=c,[].concat(Object(m.a)(s.slice(0,o)),[u],Object(m.a)(s.slice(o+1)))))):l(n);case 3:case"end":return e.stop()}var s,o,u}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,H();case 4:s(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("AllContactsContent fetchDataAsync err ==>",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){if(i){var e=i.filter((function(e){var t,a,n,c,r,s;return(null===(t=Object(v.a)(e))||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||!Object(h.isArray)(null===e||void 0===e||null===(a=e.emails)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.data)&&(null===e||void 0===e||null===(c=e.emails)||void 0===c||null===(r=c[0])||void 0===r||null===(s=r.data)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase()))}));S(e)}}),[i,g]);var P=function(e){C(e.target.value)},T=Object(c.useMemo)((function(){return Object(h.debounce)(P,300)}),[]);return Object(n.jsx)("div",{className:_()(M.main,t),children:r?Object(n.jsx)(y.b,{}):i&&Object(n.jsxs)(O.a,{className:M.container,children:[Object(n.jsx)("div",{className:M.sectionHeader,children:Object(n.jsx)(x.a,{className:M.sectionHeaderContent,data:i||null,title:"All contacts",description:"Create lists with your contacts to organize tasks ",icon:"contacts",iconBackground:"#F0F5FF",iconColor:"#5265af",hideNumber:!1})}),Object(n.jsxs)("div",{className:M.content,children:[Object(n.jsxs)("div",{className:M.contentHeader,children:[Object(n.jsx)(w.a,{classes:{container:M.search},onChange:T,inputPlaceholder:"Search contacts"}),Object(n.jsx)(K.a,{className:M.actions,buttons:["contact"]})]}),k&&Object(n.jsx)(Y,{data:k,fetchData:H})]})]})})},U=a("ptIG"),Z=a("J0Lz"),q=a("LnYP");t.default=function(){return Object(n.jsx)(r.a,{className:q.layout,children:Object(n.jsx)(Z.a,{children:Object(n.jsx)(i.a,{children:Object(n.jsx)(U.a,{children:Object(n.jsx)(s.a,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(J,{})})})})})})})}},"45PY":function(e,t,a){e.exports={textarea:"CellNotes-s_textarea__33LFw"}},"6NKu":function(e,t,a){e.exports={main:"index-s_main__3kWV4",container:"index-s_container__5wk0y",search:"index-s_search__1lxDb",sectionHeader:"index-s_sectionHeader__1s5fB",contentHeader:"index-s_contentHeader__ejeRN",emptyRecs:"index-s_emptyRecs__2C2nd",actions:"index-s_actions__3RmTG",dots:"index-s_dots__28pt_",button:"index-s_button__yCZSZ",contact:"index-s_contact__QplIC",filter:"index-s_filter__2_1t4"}},"705N":function(e,t,a){e.exports={link:"index-s_link__-C7K4",outlined:"index-s_outlined__1k7W9",contained:"index-s_contained__2_DKH"}},IUJJ:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts",function(){return a("/hX0")}])},Iquo:function(e,t,a){e.exports={container:"ContactsTable-s_container__LPydQ",table:"ContactsTable-s_table__1I_54",columnHeader:"ContactsTable-s_columnHeader__3t0Au",tableRow:"ContactsTable-s_tableRow__3HaDb",rowButton:"ContactsTable-s_rowButton__2gry5",headerButton:"ContactsTable-s_headerButton__3HW7q",headerCheckbox:"ContactsTable-s_headerCheckbox__2S7Vd",row:"ContactsTable-s_row__2X-fZ",header_All:"ContactsTable-s_header_All__1DHQ4",pen:"ContactsTable-s_pen__3pBjx",emptyCardContainer:"ContactsTable-s_emptyCardContainer__17wiO",cellName:"ContactsTable-s_cellName__2jWCC",avatar:"ContactsTable-s_avatar__Eo4g2",cellContent:"ContactsTable-s_cellContent___IOp9",cellHeaderAll:"ContactsTable-s_cellHeaderAll__2Wfe3",cellCheckbox:"ContactsTable-s_cellCheckbox__3LemA",tbody:"ContactsTable-s_tbody__9OO7s",cardHeader:"ContactsTable-s_cardHeader__2INfO",emptyCard:"ContactsTable-s_emptyCard__SgDBD",cardLogo:"ContactsTable-s_cardLogo__1Wysg",logo:"ContactsTable-s_logo__2La2B",addUserView:"ContactsTable-s_addUserView__2UPko",sort:"ContactsTable-s_sort__2hpOv",sortAsc:"ContactsTable-s_sortAsc__2uGiw"}},LnYP:function(e,t,a){e.exports={layout:"contacts-s_layout__2s12Y"}},Q0IO:function(e,t,a){"use strict";var n=a("rePB"),c=a("nKUr"),r=a("Ff2n"),s=(a("q1tI"),a("z430")),o=a("TSYQ"),i=a.n(o);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=a("45PY");t.a=function(e){var t=e.value,a=e.className,n=e.onSave,o=e.onChange,l=e.minRows,b=e.maxRows,j=Object(r.a)(e,["value","className","onSave","onChange","minRows","maxRows"]);return Object(c.jsx)("div",{className:i()(a,d.container),onClick:function(e){return e.stopPropagation()},"aria-hidden":"true",children:Object(c.jsx)(s.a,u({className:d.textarea,placeholder:"Include a note for this contact...",value:t||"",onBlur:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||e.target.blur()},onChange:function(e){o(e.target.value)},minRows:null!==l&&void 0!==l?l:1,maxRows:null!==b&&void 0!==b?b:1},j))})}},QlXV:function(e,t,a){"use strict";var n=a("nKUr"),c=(a("q1tI"),a("YFqc")),r=a.n(c),s=a("TSYQ"),o=a.n(s),i=a("705N");t.a=function(e){var t=e.className,a=e.children,c=e.variant,s=e.href;return Object(n.jsx)(r.a,{href:s,children:Object(n.jsx)("a",{className:o()(c?i.link:"",c?i[c]:"",t),children:a})})}},VZZm:function(e,t,a){"use strict";var n=a("nKUr"),c=(a("q1tI"),a("TSYQ")),r=a.n(c),s=a("rtMV"),o=a("QlXV"),i=a("7JBd"),l=a("bHy7");t.a=function(e){var t=e.className,a=e.data,c=e.icon,u=e.iconBackground,d=e.iconColor,b=e.title,j=e.description,_=e.link,O=e.hideNumber;return Object(n.jsxs)("div",{className:r()(l.container,t),children:[Object(n.jsx)("div",{className:l.icon,style:{background:u,color:d},children:Object(n.jsx)(s.a,{icon:"".concat(c,".svg")})}),Object(n.jsxs)("div",{className:l.content,children:[Object(n.jsxs)("div",{className:l.title,children:[Object(n.jsxs)(i.a,{fontVariant:"gilroy",fontWeight:"bold",styleVariant:"h3",children:[b," ",Object(n.jsx)("span",{className:l.count,children:!O&&" (".concat(null===a||void 0===a?void 0:a.length,")")})]}),_&&Object(n.jsxs)(o.a,{className:l.link,href:_.href,children:[_.text,Object(n.jsx)(s.a,{className:l.linkIcon,icon:"arrow-left.svg"})]})]}),Object(n.jsx)(i.a,{fontVariant:"inter",styleVariant:"body3",children:j})]})]})}},bHy7:function(e,t,a){e.exports={container:"SectionHeader-s_container__1Bw66",icon:"SectionHeader-s_icon__3PQyM",content:"SectionHeader-s_content__1bSsR",search:"SectionHeader-s_search__1vmwV",title:"SectionHeader-s_title__3DE6R",count:"SectionHeader-s_count__2EkFW",link:"SectionHeader-s_link__2Vyai",linkIcon:"SectionHeader-s_linkIcon__LBBoM"}}},[["IUJJ",0,2,8,1,3,4,5,7,6,9,10,11]]]);